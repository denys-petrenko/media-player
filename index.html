<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Player</title>
    <link rel="icon" href="img/fav-icon.png">
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: radial-gradient(ellipse, orangered, transparent, orange) orange;
        }

        .player {
            display: flex;
            flex-direction: column;
            width: 800px;
            height: 600px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 10px 10px 15px 5px rgba(0, 0, 0, 0.4);
        }

        .video {
            display: flex;
            flex-direction: column;
            width: 100%;
            height: 75%;
            position: relative;
        }

        .video video {
            display: flex;
            height: 100%;
            width: 100%;
            object-fit: cover;
        }

        .controls {
            display: flex;
            justify-content: space-evenly;
            align-items: center;
            box-sizing: border-box;
            width: 100%;
            height: 25%;
            background-color: rgba(0, 0, 0, 0.6);
            flex-direction: column;
            padding: 10px 15px 20px 15px;
            gap: 15px;
        }

        .button {
            cursor: pointer;
            width: 40px;
        }

        #soundButton {
            display: flex;
            width: 25px;
            height: 24px;
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            cursor: pointer;
        }


        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 4px;
            border-radius: 5px;
            background: linear-gradient(to right, black 0%, #ccc 0%);
            outline: none;
            -webkit-transition: .2s;
            transition: opacity .2s;
            border: 1px solid white;
        }

        .slider::-webkit-slider-thumb {
            appearance: none;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background-color: white;
            cursor: pointer;
            transition: 0.3s ease-in-out;
        }

        .slider::-webkit-slider-thumb:hover {
            box-shadow: 0px 0px 0px 8px rgba(248, 247, 247, 0.474);
            transition: 0.5s ease-in-out;
        }

        .slider::-moz-range-thumb {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            cursor: pointer;
        }

        .slider-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 5px 10px 10px 10px;
            width: 100%;
        }

        .sound {
            display: flex;
            align-items: center;
            width: 25%;
            gap: 10px;
        }

        #currentTime,
        #duration {
            color: white;
        }

        .buttons-container {
            display: flex;
            justify-content: space-around;
            width: 100%;
        }

        .playback {
            display: flex;
            justify-content: space-around;
            align-items: center;
            width: 50%;
        }

        .settings {
            display: flex;
            width: 25%;
            justify-content: end;
            align-items: center;
            gap: 15px;
        }

        .time {
            display: flex;
            justify-content: space-between;
            width: 100%;
            height: 30px;
        }

        .settings-box {
            display: none;
            justify-content: center;
            width: 100px;
            height: 200px;
            background-color: rgba(0, 0, 0, 0.6);
            position: absolute;
            bottom: 0;
            right: 0;
        }

        .settings-box.show {
            display: flex;
            align-items: center;
            color: white;
            gap: 5px;
        }

        #speedSlider {
            writing-mode: vertical-lr;
            direction: rtl;
            height: 80%;
            cursor: pointer;
        }

        #settingsButton.bright-img {
            transform: rotate(200deg);
            position: relative;
            transition: filter 0.3s ease, box-shadow 0.3s ease;
            filter: brightness(1.8);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            background: #696262;
            filter: brightness(1.8);
        }

        .star.bright {
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.9);
            border-radius: 24px;
            display: flex;
            justify-content: center;
        }
    </style>

</head>

<body>
    <section class="player">
        <section class="video">
            <video poster="img/poster.png">
                <source src="video/vsvideo.mp4" type="video/mp4">
            </video>
            <div class="settings-box">
                <input type=range id="speedSlider" min="0.1" max="2" value="1" step="0.1">
                <div class="slider-value"><span id="sliderValue">1</span>x</div>
            </div>
        </section>
        <section class="controls">
            <div class="slider-container">
                <div class="time">
                    <span id="currentTime">0:00</span><span id="duration">0:00</span>
                </div>
                <input type="range" class="slider" id="timeSlider" min="0" max="100" value="0" step="0.1">
            </div>
            <div class="buttons-container">
                <div class="sound">
                    <img class="button" id="soundButton" src="img/volume.svg">
                    <input type="range" class="slider" id="volume" min="0" max="100" step="1" value="100">
                </div>
                <div class="playback">
                    <div>
                        <img class="button" id="previous" src="img/prev.png" alt="Previous Button">
                    </div>
                    <div>
                        <img class="button" id="rewaindBack" src="img/backward.svg" alt="Forward Button">
                    </div>
                    <div>
                        <img class="button" id="playButton" src="img/play.svg" alt="Play Button">
                    </div>
                    <div>
                        <img class="button" id="rewaindForward" src="img/forward.svg" alt="Forward Button">
                    </div>
                    <div>
                        <img class="button" id="next" src="img/next.png" alt="Next Button">
                    </div>
                </div>
                <div class="settings">
                    <div>
                        <img class="button" id="fullButton" src="img/expand.svg">
                    </div>
                    <div class="star">
                        <img class="button" id="settingsButton" src="img/settings.png">
                    </div>
                </div>
            </div>
        </section>
    </section>
    <script>

        let video = document.querySelector("video");


        //////////////////Settings////////////////////
        let settingsButton = document.querySelector("#settingsButton");
        let settingsBox = document.querySelector(".settings-box");
        let star = document.querySelector(".star");
        let speedSlider = document.querySelector("#speedSlider");
        let sliderValue = document.getElementById('sliderValue');

        settingsButton.addEventListener("click", () => {
            settingsBox.classList.toggle("show");
            star.classList.toggle("bright");
            settingsButton.classList.toggle("bright-img");
        });

        speedSlider.addEventListener("input", () => {
            let speed = Number(speedSlider.value);
            sliderValue.textContent = speed.toFixed(1);
            video.playbackRate = speed;
            updateSliderBackground(speedSlider)
        });


        ////////////////////Rewind Video////////////////////////
        const rewindButton = document.getElementById("rewaindBack");
        const forwardButton = document.getElementById("rewaindForward");


        rewindButton.addEventListener('click', () => {
            video.currentTime = Math.max(0, video.currentTime - 10);
        });


        forwardButton.addEventListener('click', () => {
            video.currentTime = Math.min(video.duration, video.currentTime + 10);
        });



        ///////////////////Play-Pause Button/////////////////////
        let playButton = document.getElementById('playButton');
        playButton.addEventListener('click', () => {
            if (video.paused) {
                video.play();
                playButton.src = 'img/pause.svg';
            } else {
                video.pause();
                playButton.src = 'img/play.svg';
            }
        });



        //////////////////Full Button////////////////////////  
        let fullscreenButton = document.querySelector('#fullButton');
        fullscreenButton.addEventListener("click", () => {
            if (video.requestFullscreen) {
                video.requestFullscreen();
            } else if (videoPlayer.webkitRequestFullscreen) {
                video.webkitRequestFullscreen();
            } else if (videoPlayer.msRequestFullscreen) {
                video.msRequestFullscreen();
            }
        });



        //////////////////Change Video////////////////////////  
        let prevButton = document.querySelector("#previous");
        let nextButton = document.querySelector("#next");
        let currentVideoIndex = 0;

        const videoList = [
            {
                src: "video/clouds.mp4",
                poster: "img/poster.png"
            },
            {
                src: "video/iceland-canyon.mp4",
                poster: "img/poster.png"
            },
            {
                src: "video/mountains.mp4",
                poster: "img/poster.png"
            },
            {
                src: "video/sea.mp4",
                poster: "img/poster.png"
            }
        ];

        function changeVideo(index) {
            currentVideoIndex = index;
            const currentVideo = videoList[currentVideoIndex];
            video.src = currentVideo.src;
            video.poster = currentVideo.poster;
            setTimeout(() => {
                video.play();
            }, 100);
        }


        nextButton.addEventListener('click', () => {
            currentVideoIndex = (currentVideoIndex + 1) % videoList.length;
            changeVideo(currentVideoIndex);
            changeVideo(currentVideoIndex);
            playButton.src = 'img/pause.svg';

        });


        prevButton.addEventListener('click', () => {
            currentVideoIndex = (currentVideoIndex - 1 + videoList.length) % videoList.length;
            changeVideo(currentVideoIndex);
            changeVideo(currentVideoIndex);
            playButton.src = 'img/pause.svg';
        });


        video.addEventListener('ended', () => {
            currentVideoIndex = (currentVideoIndex + 1) % videoList.length;
            changeVideo(currentVideoIndex);
        });


        /////////////////Sound Control////////////////////
        const volumeControl = document.querySelector("#volume");
        let volumeButton = document.querySelector("#soundButton");


        let lastVolume = 0.5;
        video.volume = lastVolume;
        volumeControl.value = lastVolume * 100;

        window.addEventListener('load', () => updateSliderBackground(volumeControl));

        volumeControl.addEventListener("input", function () {
            video.volume = volumeControl.value / 100;
            lastVolume = video.volume;
            updateSliderBackground(volumeControl);
        });

        volumeButton.addEventListener("click", () => {
            if (video.volume > 0) {
                lastVolume = video.volume;
                video.volume = 0;
                volumeControl.value = 0;
                volumeButton.src = 'img/silence.svg';
                updateSliderBackground(volumeControl);
            } else {
                video.volume = lastVolume;
                volumeControl.value = lastVolume * 100;
                volumeButton.src = 'img/volume.svg';
                updateSliderBackground(volumeControl);
            }
        });


        /////////////////Time Slider////////////////////
        const timeSlider = document.querySelector("#timeSlider");
        const currentTimeDisplay = document.querySelector("#currentTime");
        const durationDisplay = document.querySelector("#duration");


        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes}:${secs < 10 ? "0" + secs : secs}`;
        }


        video.addEventListener("loadedmetadata", () => {
            timeSlider.max = video.duration;
            durationDisplay.textContent = formatTime(video.duration);
            updateSliderBackground(timeSlider);
        });


        video.addEventListener("timeupdate", () => {
            timeSlider.value = video.currentTime;
            currentTimeDisplay.textContent = formatTime(video.currentTime);
            updateSliderBackground(timeSlider);
        });


        timeSlider.addEventListener("input", () => {
            video.currentTime = timeSlider.value;
            updateSliderBackground(timeSlider);
        });

        function updateSliderBackground(slider) {
            let value = (slider.value / slider.max) * 100;
            slider.style.background = `linear-gradient(to right, orange ${value}%, #ccc ${value}%)`;
        }
    </script>
</body>

</html>